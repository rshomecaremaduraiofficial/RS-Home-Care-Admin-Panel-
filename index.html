<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RS Home Care ‚Äî Admin Panel</title>

  <link rel="icon" href="logo.png" type="image/png">
  <link rel="stylesheet" href="styles.css"/>

  <!-- SheetJS for Excel export -->
  <script defer src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script defer src="app.js"></script>
</head>

<body>
  <!-- LOGIN SCREEN -->
  <div id="loginScreen" class="login-screen">
    <div class="login-card">
      <div class="brand">
        <img class="brandLogoImg" src="logo.png" alt="RS Home Care Logo">
        <div>
          <h1>RS Home Care</h1>
          <p>Admin Panel Login</p>
        </div>
      </div>

      <div class="grid2">
        <label>
          Username
          <input id="loginUser" type="text" placeholder="Enter username" autocomplete="username"/>
        </label>
        <label>
          Password
          <input id="loginPass" type="password" placeholder="Enter password" autocomplete="current-password"/>
        </label>
      </div>

      <label>
        6-Digit Admin Code
        <input id="loginCode" type="text" inputmode="numeric" maxlength="6" placeholder="000000"/>
        <small class="muted">Required to access admin panel.</small>
      </label>

      <div class="row">
        <button id="loginBtn" class="btn primary">Login</button>
        <button id="loginThemeBtn" class="btn ghost" title="Toggle theme">üåô / ‚òÄÔ∏è</button>
      </div>

      <div id="loginMsg" class="msg"></div>
      <div class="loginFooter">
        ¬© <span id="yearNow"></span> RS Home Care ‚Ä¢ <span id="loginVersion">RS v1.1.0</span>
      </div>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="app hidden">
    <!-- TOP BAR -->
    <header class="topbar">
      <div class="leftControls">
        <button id="exportExcelBtn" class="btn" title="Download Excel">‚¨áÔ∏è Excel</button>
        <button id="themeBtn" class="btn" title="Toggle theme">üåô / ‚òÄÔ∏è</button>
      </div>

      <div class="centerBrand">
        <img class="topLogoImg" src="logo.png" alt="RS Home Care Logo">
        <div class="centerBrandText">
          <div class="brandTitle">RS Home Care</div>
          <div class="brandSub">Accounts & Database</div>
        </div>
      </div>

      <div class="rightControls">
        <button id="logoutBtn" class="btn danger" title="Logout">Logout</button>
      </div>
    </header>

    <!-- MAIN LAYOUT -->
    <div class="layout">
      <aside class="sidebar">
        <button class="navItem active" data-page="dashboard">üìä Dashboard</button>

        <div class="navGroupTitle">Database</div>
        <button class="navItem" data-page="clients">üë§ Client Details</button>
        <button class="navItem" data-page="employees">üßë‚Äçüíº Employee Details</button>
        <button class="navItem" data-page="workers">‚úÖ Worker Verification</button>
        <button class="navItem" data-page="salary">üí∞ Salary Details</button>
        <button class="navItem" data-page="expense">üßæ Expense</button>
        <button class="navItem" data-page="income">üì• Income</button>

        <div class="navGroupTitle">System</div>
        <button class="navItem" data-page="settings">‚öôÔ∏è Settings</button>
 <a class="navItem"
     href="./invoice.html"
     target="_blank"
     rel="noopener"
     style="flex:1; text-align:center; text-decoration:none; display:flex; align-items:center; ">
    üßæ Client Invoice Generator
  </a>
<button class="navItem" id="attendanceToggle">
  üóìÔ∏è Attendance
</button>
<div id="attendanceMenu" class="attendanceMenu hidden">
  <button type="button" class="navItem subItem" onclick="window.open('./index1.html','_blank')">Harish Madhusan</button>
  <button type="button" class="navItem subItem" onclick="window.open('./daily.html','_blank')">Subasini</button>
  <button type="button" class="navItem subItem" onclick="window.open('./monthly.html','_blank')">üìä Monthly Attendance</button>
  <button type="button" class="navItem subItem" onclick="window.open('./report.html','_blank')">üßæ Attendance Report</button>
  <button type="button" class="navItem subItem" onclick="window.open('./overtime.html','_blank')">‚è± Overtime</button>
  <button type="button" class="navItem subItem" onclick="window.open('./leave.html','_blank')">üèñ Leave Management</button>
  <button type="button" class="navItem subItem" onclick="window.open('./attendance-settings.html','_blank')">‚öôÔ∏è Attendance Settings</button>
</div>
        <div class="sidebarNote">
          This Database is completely design to manage the RS Home Care Company complete details.
        </div>
      </aside>

      <main class="content">

        <!-- DASHBOARD -->
        <section class="page" id="page-dashboard">
          <div class="pageHeader">
            <div>
              <h2>Dashboard</h2>
              <p class="muted">RS Home Care Monthly,Yearly accounts, profit & loss and recent transactions.</p>
            </div>
          </div>

          <!-- DASHBOARD FILTER (Month/Year + Apply) -->
          <div class="panel" style="margin-bottom:12px;">
            <div class="panelHeader">
              <h3>Accounts Details ( Month and Year Perferance )</h3>
            </div>

            <div class="grid2">
              <label>
                Select Month
                <select id="dashMonth">
                  <option value="">All Months</option>
                  <option value="0">January</option>
                  <option value="1">February</option>
                  <option value="2">March</option>
                  <option value="3">April</option>
                  <option value="4">May</option>
                  <option value="5">June</option>
                  <option value="6">July</option>
                  <option value="7">August</option>
                  <option value="8">September</option>
                  <option value="9">October</option>
                  <option value="10">November</option>
                  <option value="11">December</option>
                </select>
              </label>

              <label>
                Select Year
                <input id="dashYear" type="number" placeholder="e.g. 2026" />
              </label>
            </div>

            <div class="row" style="margin-top:10px;">
              <button id="applyDashFilterBtn" class="btn primary">Apply</button>
              <button id="clearDashFilterBtn" class="btn">Clear</button>
              <small id="dashFilterLabel" class="muted" style="margin-left:10px;"></small>
            </div>
          </div>

          <div class="cards">
            <div class="card">
              <div class="cardTitle">This Month Income</div>
              <div class="cardValue" id="mIncome">0</div>
              <div class="cardHint muted" id="mLabel"></div>
            </div>
            <div class="card">
              <div class="cardTitle">This Month Expense</div>
              <div class="cardValue" id="mExpense">0</div>
              <div class="cardHint muted">Includes Salary + Expense entries</div>
            </div>
            <div class="card">
              <div class="cardTitle">This Month Profit / Loss</div>
              <div class="cardValue" id="mProfit">0</div>
              <div class="cardHint muted">Income ‚àí Expense</div>
            </div>
          </div>

          <div class="cards">
            <div class="card">
              <div class="cardTitle">This Year Income</div>
              <div class="cardValue" id="yIncome">0</div>
              <div class="cardHint muted" id="yLabel"></div>
            </div>
            <div class="card">
              <div class="cardTitle">This Year Expense</div>
              <div class="cardValue" id="yExpense">0</div>
              <div class="cardHint muted">Includes Salary + Expense entries</div>
            </div>
            <div class="card">
              <div class="cardTitle">This Year Profit / Loss</div>
              <div class="cardValue" id="yProfit">0</div>
              <div class="cardHint muted">Income ‚àí Expense</div>
            </div>
          </div>

          <div class="split">
            <div class="panel">
              <div class="panelHeader">
                <h3>Recent Income</h3>
              </div>
              <div id="recentIncome" class="list"></div>
            </div>

            <div class="panel">
              <div class="panelHeader">
                <h3>Recent Expense</h3>
              </div>
              <div id="recentExpense" class="list"></div>
            </div>
          </div>
        </section>

        <!-- CLIENTS -->
        <section class="page hidden" id="page-clients">
          <div class="pageHeader">
            <div>
              <h2>Client Details</h2>
              <p class="muted">Access only For Admin</p>
            </div>
            <div class="headerActions">
              <div class="searchWrap">
                <span class="icon">üîé</span>
                <input id="searchClients" type="text" placeholder="Search clients..."/>
              </div>
              <button class="btn primary" id="addClientBtn">+ Add Client</button>
            </div>
          </div>

          <div class="tableWrap">
            <table class="table" id="clientsTable">
              <thead>
                <tr>
                  <th>Client Name</th>
                  <th>Phone</th>
                  <th>DOB</th>
                  <th>Age</th>
                  <th>Amount Paid</th>
                  <th>Balance</th>
                  <th>Invoice</th>
                  <th>Entry Date</th>
                  <th>Worker</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- EMPLOYEES -->
        <section class="page hidden" id="page-employees">
          <div class="pageHeader">
            <div>
              <h2>Employee Details</h2>
              <p class="muted">Access only For Admin</p>
            </div>
            <div class="headerActions">
              <div class="searchWrap">
                <span class="icon">üîé</span>
                <input id="searchEmployees" type="text" placeholder="Search employees..."/>
              </div>
              <button class="btn primary" id="addEmployeeBtn">+ Add Employee</button>
            </div>
          </div>

          <div class="tableWrap">
            <table class="table" id="employeesTable">
              <thead>
                <tr>
                  <th>Access No</th>
                  <th>Name</th>
                  <th>Phone</th>
                  <th>DOB</th>
                  <th>Age</th>
                  <th>Role</th>
                  <th>Salary Allocated</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- WORKERS -->
        <section class="page hidden" id="page-workers">
          <div class="pageHeader">
            <div>
              <h2>Worker Verification</h2>
              <p class="muted">Access only For Admin</p>
            </div>
            <div class="headerActions">
              <div class="searchWrap">
                <span class="icon">üîé</span>
                <input id="searchWorkers" type="text" placeholder="Search workers..."/>
              </div>
              <button class="btn primary" id="addWorkerBtn">+ Add Worker</button>
            </div>
          </div>

          <div class="tableWrap">
            <table class="table" id="workersTable">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Phone</th>
                  <th>DOB</th>
                  <th>Age</th>
                  <th>Aadhar</th>
                  <th>Specialist</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- SALARY -->
        <section class="page hidden" id="page-salary">
          <div class="pageHeader">
            <div>
              <h2>Salary Details</h2>
              <p class="muted">Access only For Admin</p>
            </div>
            <div class="headerActions">
              <div class="searchWrap">
                <span class="icon">üîé</span>
                <input id="searchSalary" type="text" placeholder="Search salary records..."/>
              </div>
              <button class="btn primary" id="addSalaryBtn">+ Add Salary</button>
            </div>
          </div>

          <div class="tableWrap">
            <table class="table" id="salaryTable">
              <thead>
                <tr>
                  <th>Access No</th>
                  <th>Employee</th>
                  <th>Slip No</th>
                  <th>Amount</th>
                  <th>Paid Date</th>
                  <th>Paid Option</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- EXPENSE -->
        <section class="page hidden" id="page-expense">
          <div class="pageHeader">
            <div>
              <h2>Expense</h2>
              <p class="muted">Access only For Admin</p>
            </div>
            <div class="headerActions">
              <div class="searchWrap">
                <span class="icon">üîé</span>
                <input id="searchExpense" type="text" placeholder="Search expenses..."/>
              </div>
              <button class="btn primary" id="addExpenseBtn">+ Add Expense</button>
            </div>
          </div>

          <div class="tableWrap">
            <table class="table" id="expenseTable">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Amount</th>
                  <th>For What</th>
                  <th>Date</th>
                  <th>Payment Method</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- INCOME -->
        <section class="page hidden" id="page-income">
          <div class="pageHeader">
            <div>
              <h2>Income</h2>
              <p class="muted">Access only For Admin</p>
            </div>
            <div class="headerActions">
              <div class="searchWrap">
                <span class="icon">üîé</span>
                <input id="searchIncome" type="text" placeholder="Search income..."/>
              </div>
            </div>
          </div>

          <div class="tableWrap">
            <table class="table" id="incomeTable">
              <thead>
                <tr>
                  <th>Source</th>
                  <th>Name</th>
                  <th>Amount</th>
                  <th>Date</th>
                  <th>Invoice</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- SETTINGS -->
        <section class="page hidden" id="page-settings">
          <div class="pageHeader">
            <div>
              <h2>Settings</h2>
              <p class="muted">(Backup / Restore / Logs).</p>
            </div>
          </div>

          <div class="split">
            <div class="panel">
              <div class="panelHeader">
                <h3>Website / Version</h3>
              </div>

              <div class="list">
                <div class="listItem">
                  <div class="listItemTop">
                    <div class="listItemName">Current Version</div>
                    <div class="money" id="settingsVersionLabel">RS v1.1.0</div>
                  </div>
                  <div class="listItemMeta muted">Displayed in footer & login page.</div>
                </div>
              </div>

              <div class="row" style="margin-top:10px;">
                <button id="backupJsonBtn" class="btn">‚¨áÔ∏è Backup JSON</button>
                <label class="btn" style="cursor:pointer;">
                  ‚¨ÜÔ∏è Restore JSON
                  <input id="restoreJsonInput" type="file" accept="application/json" style="display:none;">
                </label>
              </div>

              <small class="muted" style="display:block;margin-top:8px;">
                Backup/Restore keeps ALL data including images stored in localStorage.
              </small>
            </div>

            <div class="panel">
              <div class="panelHeader">
                <h3>Admin Controls</h3>
              </div>

              <div class="row">
                <button id="openAdminSettingsBtn" class="btn primary">Change Username / Password / 6-Digit Code</button>
              </div>

              <div class="row" style="margin-top:10px;">
                <button id="clearAttemptLogsBtn" class="btn danger">Clear Login Attempt Logs</button>
              </div>

              <small class="muted" style="display:block;margin-top:8px;">
                Only Admin can change login credentials & admin code.
              </small>
            </div>
          </div>

          <div class="panel" style="margin-top:12px;">
            <div class="panelHeader">
              <h3>Login Attempt Logs</h3>
            </div>
            <div id="attemptLogsBox" class="list"></div>
          </div>
        </section>

        <footer class="footer">
          ¬© <span id="footerYear"></span> RS Home Care ‚Ä¢ <span id="footerVersion">RS v1.1.0</span>. All rights reserved.
        </footer>
      </main>
    </div>
  </div>

  <!-- MODAL -->
  <div id="modal" class="modal hidden">
    <div class="modalCard">
      <div class="modalHeader">
        <h3 id="modalTitle">Form</h3>
        <button id="modalClose" class="btn ghost">‚úï</button>
      </div>
      <form id="modalForm" class="form"></form>
      <div class="modalActions">
        <button id="modalCancel" class="btn">Cancel</button>
        <button id="modalSave" class="btn primary" type="submit" form="modalForm">Save</button>
      </div>
      <div id="modalMsg" class="msg"></div>
    </div>
  </div>
</body>
</html>

